<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="REPORTEDIARIO_Resumen de Factura" pageWidth="802" pageHeight="555" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="802" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="8aafc9fb-ffee-46e6-855d-f89c93838d4e">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="FECHA_HASTA" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
     Factura.factura_id As Factura,
     Cliente.nombre AS ClienteNombre,
     Factura.orden AS Orden,
     Factura.tipo_factura,
     Factura.nro_factura AS NroFactura,
     Factura.fecha_emision AS FechaEmision,
     Factura.forma_pago AS Formadepago,
     Factura.fecha_vencimiento AS FechaVencimiento,
     Facturas_Detalle.sub_total + Facturas_Detalle.total_iva as total

 FROM
"facturas" Factura
Inner Join "cliente" Cliente on  (Factura.cliente_id = Cliente.cliente_id)
Inner Join "facturas_detalle" Facturas_Detalle on (Factura.factura_id = Facturas_Detalle.factura_id)

WHERE

     Factura.fecha_emision::date = $P{FECHA_HASTA} and  Factura.tipo_factura='CREDITO' and Factura.estado_impresion != 3
GROUP BY
    Factura.factura_id ,
    Cliente.nombre,
     Factura.orden ,
     Factura.tipo_factura,
     Factura.nro_factura,
     Factura.fecha_emision,
     Factura.forma_pago ,
     Factura.fecha_vencimiento,
     Facturas_Detalle.sub_total,
     Facturas_Detalle.total_iva

ORDER BY
 Factura.factura_id]]>
	</queryString>
	<field name="factura" class="java.lang.Integer"/>
	<field name="clientenombre" class="java.lang.String"/>
	<field name="orden" class="java.lang.Integer"/>
	<field name="tipo_factura" class="java.lang.String"/>
	<field name="nrofactura" class="java.lang.String"/>
	<field name="fechaemision" class="java.sql.Timestamp"/>
	<field name="formadepago" class="java.lang.String"/>
	<field name="fechavencimiento" class="java.sql.Date"/>
	<field name="total" class="java.lang.Double"/>
	<variable name="resumenfacturacreditototal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{total}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="1" y="0" width="47" height="20" uuid="beeef558-6b77-4866-92a6-888e9a174bce"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Nro]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="260" y="0" width="77" height="20" uuid="4ac004b4-903a-44b9-8181-10acfd686bff"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Emision]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="465" y="0" width="33" height="20" uuid="629526b9-35f3-4120-89f6-314e54ae6870"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Pago]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="337" y="0" width="77" height="20" uuid="4a795a26-0241-4e0d-9048-8252025c40d2"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Vencimiento]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="498" y="0" width="72" height="20" uuid="82275ed4-754a-453c-96c5-97fd2aac1c4a"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<staticText>
				<reportElement x="218" y="0" width="42" height="20" uuid="e8025584-09ff-4be3-a971-b26621d2bdc1"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[orden]]></text>
			</staticText>
			<staticText>
				<reportElement x="414" y="0" width="51" height="20" uuid="0f129e54-038f-457d-8a8a-8662cde47f30"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Tipo ]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="RelativeToTallestObject" x="48" y="0" width="170" height="20" uuid="66e94be9-e28f-4b20-8279-a0941d5c1c0b"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Cliente]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement stretchType="RelativeToTallestObject" x="260" y="0" width="77" height="20" forecolor="#333333" uuid="2d5294b3-2d1a-4c64-8eef-8db303091433"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Justified" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fechaemision}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement stretchType="RelativeToTallestObject" x="337" y="0" width="77" height="20" forecolor="#333333" uuid="7bc77b62-fbda-4c34-843d-57d795aa414e"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Justified" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fechavencimiento}==null?"-":$F{fechavencimiento}.toString()]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement stretchType="RelativeToTallestObject" x="498" y="0" width="72" height="20" forecolor="#333333" uuid="d59dcb85-8d16-467c-bee2-20e75ee9d891"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{total}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="218" y="0" width="42" height="20" forecolor="#333333" uuid="f6a85475-74c5-4f5e-a6a7-49c17b1e1d25"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{orden}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="414" y="0" width="51" height="20" forecolor="#333333" uuid="68cc2408-fc58-411e-9873-6fdfbd5eb6a6"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipo_factura}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0">
				<reportElement stretchType="RelativeToTallestObject" x="48" y="0" width="170" height="20" forecolor="#333333" uuid="f5dceb7e-fe60-4360-9bed-bb62b25a5a27"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{clientenombre}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement stretchType="RelativeToTallestObject" x="465" y="0" width="33" height="20" forecolor="#333333" uuid="6cd332a1-bb6b-4ebb-a561-67b4be2bee9c"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{formadepago}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="1" y="0" width="47" height="20" uuid="f4f668f3-cec4-4b2e-af83-7a6ba88542cf"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nrofactura}.trim()]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="29" splitType="Stretch">
			<staticText>
				<reportElement mode="Transparent" x="465" y="0" width="33" height="20" forecolor="#333333" uuid="e4571608-2733-4061-8aa8-69db4ca6de8e"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Total:]]></text>
			</staticText>
			<textField pattern="#,##0" isBlankWhenNull="true">
				<reportElement x="498" y="0" width="72" height="20" forecolor="#333333" uuid="69eeec7a-03c9-487d-a1d5-0652d20772bc"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{resumenfacturacreditototal}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
